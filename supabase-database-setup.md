# Supabase Database Setup

## 1. Create the Table

Go to **SQL Editor** in your Supabase dashboard and run this SQL:

```sql
CREATE TABLE educational_content (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  title TEXT NOT NULL,
  description TEXT,
  type TEXT NOT NULL,
  subject TEXT NOT NULL,
  grade TEXT NOT NULL,
  size TEXT,
  url TEXT,
  thumbnail TEXT,
  tags TEXT,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

## 2. Enable Row Level Security (RLS)

```sql
ALTER TABLE educational_content ENABLE ROW LEVEL SECURITY;
```

## 3. Create RLS Policies

### Policy 1: Allow Public Read Access
```sql
CREATE POLICY "Allow public read access" ON educational_content
FOR SELECT USING (true);
```

### Policy 2: Allow Public Insert Access
```sql
CREATE POLICY "Allow public insert access" ON educational_content
FOR INSERT WITH CHECK (true);
```

### Policy 3: Allow Public Update Access
```sql
CREATE POLICY "Allow public update access" ON educational_content
FOR UPDATE USING (true);
```

### Policy 4: Allow Public Delete Access
```sql
CREATE POLICY "Allow public delete access" ON educational_content
FOR DELETE USING (true);
```

## 4. Alternative - Single Policy Approach

If you prefer one policy for all operations:

```sql
CREATE POLICY "Allow all operations" ON educational_content
FOR ALL USING (true) WITH CHECK (true);
```

## 5. Verify Policies

After creating policies, go to **Authentication** → **Policies** and verify:
- Table: `educational_content`
- Policies: Should show 4 policies (or 1 if using alternative approach)
- Status: All policies should be enabled

## 6. Test the Setup

1. Go to **Table Editor** → `educational_content`
2. Try inserting a test row manually
3. If successful, your policies are working correctly 